<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="language" content="en"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" type="text/css" href="css/api.css"/>
    <script type="text/javascript" src="js/jquery.js"></script>
    <title></title>
</head>

<body>
<div id="apiPage">

    <div id="apiHeader">
        Mindy Class Reference
    </div>
    <!-- end of header -->

    <div id="content">
        <h1>Mindy\Locale\PhpMessageSource</h1>
<div id="nav">
    <a href="/">All Packages</a>
            | <a href="#properties">Properties</a>
                | <a href="#methods">Methods</a>
        </div>

<table class="summaryTable docClass">
    <colgroup>
        <col class="col-name"/>
        <col class="col-value"/>
    </colgroup>
            <tr>
            <th>Package</th>
            <td><a href="/#system.i18n">system.i18n</a></td>
        </tr>
        <tr>
        <th>Inheritance</th>
        <td>class Mindy\Locale\PhpMessageSource &raquo;
<a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
    </tr>
                    <tr>
            <th>Since</th>
            <td>1.0</td>
        </tr>
                <tr>
        <th>Source Code</th>
        <td><a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php</a></td>
    </tr>
            <tr>
            <th>Author</th>
            <td>Qiang Xue <qiang.xue@gmail.com></td>
        </tr>
    </table>

<div id="classDescription">
    CPhpMessageSource represents a message source that stores translated messages in PHP scripts.
<br/><br/>
CPhpMessageSource uses PHP files and arrays to keep message translations.
<ul>
<li>All translations are saved under the <a href="/Mindy_Locale_PhpMessageSource#basePath">basePath</a> directory.</li>
<li>Translations in one language are kept as PHP files under an individual subdirectory
  whose name is the same as the language ID. Each PHP file contains messages
  belonging to the same category, and the file name is the same as the category name.</li>
<li>Within a PHP file, an array of (source, translation) pairs is returned.
For example:
<pre>
return array(
    'original message 1' =&gt; 'translated message 1',
    'original message 2' =&gt; 'translated message 2',
);
</pre>
</li>
</ul>
When <a href="/Mindy_Locale_PhpMessageSource#cachingDuration">cachingDuration</a> is set as a positive number, message translations will be cached.
<br/><br/>
Messages for an extension class (e.g. a widget, a module) can be specially managed and used.
In particular, if a message belongs to an extension whose class name is Xyz, then the message category
can be specified in the format of 'Xyz.categoryName'. And the corresponding message file
is assumed to be 'BasePath/messages/LanguageID/categoryName.php', where 'BasePath' refers to
the directory that contains the extension class file. When using Yii::t() to translate an extension message,
the category name should be set as 'Xyz.categoryName'.</div>
<a name="properties"></a>

<div class="summary docProperty">
<h2>Public Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-property" />
	<col class="col-type" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
<tr id="basePath">
  <td><a href="/Mindy_Locale_PhpMessageSource#basePath-detail">basePath</a></td>
  <td>string</td>
  <td>the base path for all translated messages.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr id="cacheID">
  <td><a href="/Mindy_Locale_PhpMessageSource#cacheID-detail">cacheID</a></td>
  <td>string</td>
  <td>the ID of the cache application component that is used to cache the messages.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr id="cachingDuration">
  <td><a href="/Mindy_Locale_PhpMessageSource#cachingDuration-detail">cachingDuration</a></td>
  <td>integer</td>
  <td>the time in seconds that the messages can remain valid in cache.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr id="extensionPaths">
  <td><a href="/Mindy_Locale_PhpMessageSource#extensionPaths-detail">extensionPaths</a></td>
  <td>array</td>
  <td>the message paths for extensions that do not have a base class to use as category prefix.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr class="inherited" id="forceTranslation">
  <td><a href="/Mindy_Locale_MessageSource#forceTranslation-detail">forceTranslation</a></td>
  <td>boolean</td>
  <td>whether to force message translation when the source and target languages are the same.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="parent">
  <td><a href="/Mindy_Locale_MessageSource#parent-detail">parent</a></td>
  <td>Translate</td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
</table>
</div>
<a name="methods"></a>

<div class="summary docMethod">
<h2>Public Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="__call">
  <td><a href="/Mindy_Locale_MessageSource#__call-detail">__call()</a></td>
  <td>Calls the named method which is not a class method.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__callInternal">
  <td><a href="/Mindy_Locale_MessageSource#__callInternal-detail">__callInternal()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__construct">
  <td><a href="/Mindy_Locale_MessageSource#__construct-detail">__construct()</a></td>
  <td>Constructor.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__get">
  <td><a href="/Mindy_Locale_MessageSource#__get-detail">__get()</a></td>
  <td>Returns the value of an object property.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__getInternal">
  <td><a href="/Mindy_Locale_MessageSource#__getInternal-detail">__getInternal()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__isset">
  <td><a href="/Mindy_Locale_MessageSource#__isset-detail">__isset()</a></td>
  <td>Checks if the named property is set (not null).</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__issetInternal">
  <td><a href="/Mindy_Locale_MessageSource#__issetInternal-detail">__issetInternal()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__set">
  <td><a href="/Mindy_Locale_MessageSource#__set-detail">__set()</a></td>
  <td>Sets value of an object property.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__setInternal">
  <td><a href="/Mindy_Locale_MessageSource#__setInternal-detail">__setInternal()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__unset">
  <td><a href="/Mindy_Locale_MessageSource#__unset-detail">__unset()</a></td>
  <td>Sets an object property to null.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="__unsetInternal">
  <td><a href="/Mindy_Locale_MessageSource#__unsetInternal-detail">__unsetInternal()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="canGetProperty">
  <td><a href="/Mindy_Locale_MessageSource#canGetProperty-detail">canGetProperty()</a></td>
  <td>Returns a value indicating whether a property can be read.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="canSetProperty">
  <td><a href="/Mindy_Locale_MessageSource#canSetProperty-detail">canSetProperty()</a></td>
  <td>Returns a value indicating whether a property can be set.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="className">
  <td><a href="/Mindy_Locale_MessageSource#className-detail">className()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="classNameShort">
  <td><a href="/Mindy_Locale_MessageSource#classNameShort-detail">classNameShort()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="getLanguage">
  <td><a href="/Mindy_Locale_MessageSource#getLanguage-detail">getLanguage()</a></td>
  <td>Returns the language that the source messages are written in.
Defaults to application language.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="hasMethod">
  <td><a href="/Mindy_Locale_MessageSource#hasMethod-detail">hasMethod()</a></td>
  <td>Returns a value indicating whether a method is defined.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="hasProperty">
  <td><a href="/Mindy_Locale_MessageSource#hasProperty-detail">hasProperty()</a></td>
  <td>Returns a value indicating whether a property is defined.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr id="init">
  <td><a href="/Mindy_Locale_PhpMessageSource#init-detail">init()</a></td>
  <td>Initializes the application component.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr class="inherited" id="missingTranslation">
  <td><a href="/Mindy_Locale_MessageSource#missingTranslation-detail">missingTranslation()</a></td>
  <td>Raised when a message cannot be translated.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="setLanguage">
  <td><a href="/Mindy_Locale_MessageSource#setLanguage-detail">setLanguage()</a></td>
  <td>Sets the language that the source messages are written in.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr class="inherited" id="translate">
  <td><a href="/Mindy_Locale_MessageSource#translate-detail">translate()</a></td>
  <td>Translates a message to the specified language.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
</table>
</div>
<div class="summary docMethod">
<h2>Protected Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="configure">
  <td><a href="/Mindy_Locale_MessageSource#configure-detail">configure()</a></td>
  <td></td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
<tr id="getMessageFile">
  <td><a href="/Mindy_Locale_PhpMessageSource#getMessageFile-detail">getMessageFile()</a></td>
  <td>Determines the message file name based on the given category and language.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr id="loadMessages">
  <td><a href="/Mindy_Locale_PhpMessageSource#loadMessages-detail">loadMessages()</a></td>
  <td>Loads the message translation for the specified language and category.</td>
  <td>Mindy\Locale\PhpMessageSource</td>
</tr>
<tr class="inherited" id="translateMessage">
  <td><a href="/Mindy_Locale_MessageSource#translateMessage-detail">translateMessage()</a></td>
  <td>Translates the specified message.</td>
  <td><a href="/Mindy_Locale_MessageSource.html">Mindy\Locale\MessageSource</a></td>
</tr>
</table>
</div>
<a name="events"></a>

<h2>Property Details</h2>
<div class="detailHeader" id="basePath-detail">
basePath<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$basePath</b>;</div>

<p>the base path for all translated messages. Defaults to null, meaning
the "messages" subdirectory of the application directory (e.g. "protected/messages").</p>


<div class="detailHeader" id="cacheID-detail">
cacheID<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$cacheID</b>;</div>

<p>the ID of the cache application component that is used to cache the messages.
Defaults to 'cache' which refers to the primary cache application component.
Set this property to false if you want to disable caching the messages.</p>


<div class="detailHeader" id="cachingDuration-detail">
cachingDuration<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public integer <b>$cachingDuration</b>;</div>

<p>the time in seconds that the messages can remain valid in cache.
Defaults to 0, meaning the caching is disabled.</p>


<div class="detailHeader" id="extensionPaths-detail">
extensionPaths<span class="detailHeaderTag">
property
 (available since v1.1.13)
</span>
</div>

<div class="signature">
public array <b>$extensionPaths</b>;</div>

<p>the message paths for extensions that do not have a base class to use as category prefix.
The format of the array should be:
<pre>
array(
    'ExtensionName' =&gt; 'ext.ExtensionName.messages',
)
</pre>
Where the key is the name of the extension and the value is the alias to the path
of the "messages" subdirectory of the extension.
When using Yii::t() to translate an extension message, the category name should be
set as 'ExtensionName.categoryName'.
Defaults to an empty array, meaning no extensions registered.</p>


<h2>Method Details</h2>

<div class="detailHeader" id="getMessageFile-detail">
getMessageFile()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
protected string <b>getMessageFile</b>(string $category, string $language)</div>
</td></tr>
<tr>
  <td class="paramNameCol">$category</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">category name</td>
</tr>
<tr>
  <td class="paramNameCol">$language</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">language ID</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the message file path</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#126" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#126</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">protected&nbsp;function&nbsp;</span><span style="color: #0000BB">getMessageFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_files</span><span style="color: #007700">[</span><span style="color: #0000BB">$category</span><span style="color: #007700">][</span><span style="color: #0000BB">$language</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</span><span style="color: #0000BB">$pos&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$extensionClass&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pos</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$extensionCategory&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pos&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;First&nbsp;check&nbsp;if&nbsp;there's&nbsp;an&nbsp;extension&nbsp;registered&nbsp;for&nbsp;this&nbsp;class.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">extensionPaths</span><span style="color: #007700">[</span><span style="color: #0000BB">$extensionClass</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_files</span><span style="color: #007700">[</span><span style="color: #0000BB">$category</span><span style="color: #007700">][</span><span style="color: #0000BB">$language</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">Alias</span><span style="color: #007700">::</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">extensionPaths</span><span style="color: #007700">[</span><span style="color: #0000BB">$extensionClass</span><span style="color: #007700">])&nbsp;.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$extensionCategory&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;No&nbsp;extension&nbsp;registered,&nbsp;need&nbsp;to&nbsp;find&nbsp;it.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #0000BB">$extensionClass</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_files</span><span style="color: #007700">[</span><span style="color: #0000BB">$category</span><span style="color: #007700">][</span><span style="color: #0000BB">$language</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">())&nbsp;.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'messages'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$extensionCategory&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_files</span><span style="color: #007700">[</span><span style="color: #0000BB">$category</span><span style="color: #007700">][</span><span style="color: #0000BB">$language</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">basePath&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$language&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$category&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_files</span><span style="color: #007700">[</span><span style="color: #0000BB">$category</span><span style="color: #007700">][</span><span style="color: #0000BB">$language</span><span style="color: #007700">];<br />}</span>
</span>
</code></div>
</div>
<p>Determines the message file name based on the given category and language.
If the category name contains a dot, it will be split into the module class name and the category name.
In this case, the message file will be assumed to be located within the 'messages' subdirectory of
the directory containing the module class file.
Otherwise, the message file is assumed to be under the <a href="/Mindy_Locale_PhpMessageSource#basePath">basePath</a>.</p>


<div class="detailHeader" id="init-detail">
init()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public void <b>init</b>()</div>
</td></tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#108" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#108</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">init</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">basePath&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">basePath&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">__DIR__&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/messages'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span>
</span>
</code></div>
</div>
<p>Initializes the application component.
This method overrides the parent implementation by preprocessing
the user request data.</p>


<div class="detailHeader" id="loadMessages-detail">
loadMessages()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
protected array <b>loadMessages</b>(string $category, string $language)</div>
</td></tr>
<tr>
  <td class="paramNameCol">$category</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the message category</td>
</tr>
<tr>
  <td class="paramNameCol">$language</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the target language</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">the loaded messages</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#153" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/locale/src/Mindy/Locale/PhpMessageSource.php#153</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">protected&nbsp;function&nbsp;</span><span style="color: #0000BB">loadMessages</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$messageFile&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessageFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$category</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cachingDuration&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cacheID&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;(</span><span style="color: #0000BB">$cache&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Mindy</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getComponent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cacheID</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">CACHE_KEY_PREFIX&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$messageFile</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$messageFile</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$messages&nbsp;</span><span style="color: #007700">=&nbsp;include(</span><span style="color: #0000BB">$messageFile</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$messages</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$messages&nbsp;</span><span style="color: #007700">=&nbsp;[];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$cache</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;TODO<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dependency&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">FileCacheDependency</span><span style="color: #007700">(</span><span style="color: #0000BB">$messageFile</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$messages</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cachingDuration</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$messages</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span>
</span>
</code></div>
</div>
<p>Loads the message translation for the specified language and category.</p>


    </div>
    <!-- end of content -->

    <div id="apiFooter">
        Copyright &copy; 2008-2011 by <a href="http://mindy-cms.com">Mindy</a><br/>
        All Rights Reserved.<br/>
    </div>
    <!-- end of footer -->

    <script type="text/javascript">
        /*<![CDATA[*/
        $("a.toggle").toggle(function () {
            $(this).text($(this).text().replace(/Hide/, 'Show'));
            $(this).parents(".summary").find(".inherited").hide();
        }, function () {
            $(this).text($(this).text().replace(/Show/, 'Hide'));
            $(this).parents(".summary").find(".inherited").show();
        });
        $(".sourceCode a.show").toggle(function () {
            $(this).text($(this).text().replace(/show/, 'hide'));
            $(this).parents(".sourceCode").find("div.code").show();
        }, function () {
            $(this).text($(this).text().replace(/hide/, 'show'));
            $(this).parents(".sourceCode").find("div.code").hide();
        });
        $("a.sourceLink").click(function () {
            $(this).attr('target', '_blank');
        });
        /*]]>*/
    </script>

</div>
<!-- end of page -->
</body>
</html>