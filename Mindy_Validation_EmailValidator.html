<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="language" content="en"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" type="text/css" href="css/api.css"/>
    <script type="text/javascript" src="js/jquery.js"></script>
    <title></title>
</head>

<body>
<div id="apiPage">

    <div id="apiHeader">
        Mindy Class Reference
    </div>
    <!-- end of header -->

    <div id="content">
        <h1>Mindy\Validation\EmailValidator</h1>
<div id="nav">
    <a href="/">All Packages</a>
            | <a href="#properties">Properties</a>
                | <a href="#methods">Methods</a>
        </div>

<table class="summaryTable docClass">
    <colgroup>
        <col class="col-name"/>
        <col class="col-value"/>
    </colgroup>
        <tr>
        <th>Inheritance</th>
        <td>class Mindy\Validation\EmailValidator &raquo;
<a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
    </tr>
                        <tr>
        <th>Source Code</th>
        <td><a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/validation/src/Mindy/Validation/EmailValidator.php" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/validation/src/Mindy/Validation/EmailValidator.php</a></td>
    </tr>
    </table>

<div id="classDescription">
    </div>
<a name="properties"></a>

<div class="summary docProperty">
<h2>Public Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-property" />
	<col class="col-type" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
<tr id="allowName">
  <td><a href="/Mindy_Validation_EmailValidator#allowName-detail">allowName</a></td>
  <td>boolean</td>
  <td>whether to allow name in the email address (e.</td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
<tr id="checkDNS">
  <td><a href="/Mindy_Validation_EmailValidator#checkDNS-detail">checkDNS</a></td>
  <td>boolean</td>
  <td>whether to check whether the emails domain exists and has either an A or MX record.</td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
<tr id="enableIDN">
  <td><a href="/Mindy_Validation_EmailValidator#enableIDN-detail">enableIDN</a></td>
  <td>boolean</td>
  <td>whether validation process should take into account IDN (internationalized domain
names).</td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
<tr id="fullPattern">
  <td><a href="/Mindy_Validation_EmailValidator#fullPattern-detail">fullPattern</a></td>
  <td>string</td>
  <td>the regular expression used to validate email addresses with the name part.</td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
<tr id="pattern">
  <td><a href="/Mindy_Validation_EmailValidator#pattern-detail">pattern</a></td>
  <td>string</td>
  <td>the regular expression used to validate the attribute value.</td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
</table>
</div>
<div class="summary docProperty">
<h2>Protected Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-property" />
	<col class="col-type" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="model">
  <td><a href="/Mindy_Validation_Validator#model-detail">model</a></td>
  <td>\Mindy\Orm\Model|string</td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="name">
  <td><a href="/Mindy_Validation_Validator#name-detail">name</a></td>
  <td>string</td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
</table>
</div>
<a name="methods"></a>

<div class="summary docMethod">
<h2>Public Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="clearErrors">
  <td><a href="/Mindy_Validation_Validator#clearErrors-detail">clearErrors()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="getErrors">
  <td><a href="/Mindy_Validation_Validator#getErrors-detail">getErrors()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="getModel">
  <td><a href="/Mindy_Validation_Validator#getModel-detail">getModel()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="getName">
  <td><a href="/Mindy_Validation_Validator#getName-detail">getName()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="hasErrors">
  <td><a href="/Mindy_Validation_Validator#hasErrors-detail">hasErrors()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="setModel">
  <td><a href="/Mindy_Validation_Validator#setModel-detail">setModel()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr class="inherited" id="setName">
  <td><a href="/Mindy_Validation_Validator#setName-detail">setName()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
<tr id="validate">
  <td><a href="/Mindy_Validation_EmailValidator#validate-detail">validate()</a></td>
  <td></td>
  <td>Mindy\Validation\EmailValidator</td>
</tr>
</table>
</div>
<div class="summary docMethod">
<h2>Protected Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="addError">
  <td><a href="/Mindy_Validation_Validator#addError-detail">addError()</a></td>
  <td></td>
  <td><a href="/Mindy_Validation_Validator.html">Mindy\Validation\Validator</a></td>
</tr>
</table>
</div>
<a name="events"></a>

<h2>Property Details</h2>
<div class="detailHeader" id="allowName-detail">
allowName<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public boolean <b>$allowName</b>;</div>

<p>whether to allow name in the email address (e.g. "John Smith <john.smith@example.com>"). Defaults to false.</p>

<div class="SeeAlso">
<h4>See Also</h4>
<ul>
	<li><a href="/Mindy_Validation_EmailValidator#fullPattern">fullPattern</a></li>
</ul>
</div>

<div class="detailHeader" id="checkDNS-detail">
checkDNS<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public boolean <b>$checkDNS</b>;</div>

<p>whether to check whether the emails domain exists and has either an A or MX record.
Be aware of the fact that this check can fail due to temporary DNS problems even if the email address is
valid and an email would be deliverable. Defaults to false.</p>


<div class="detailHeader" id="enableIDN-detail">
enableIDN<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public boolean <b>$enableIDN</b>;</div>

<p>whether validation process should take into account IDN (internationalized domain
names). Defaults to false meaning that validation of emails containing IDN will always fail.
Note that in order to use IDN validation you have to install and enable `intl` PHP extension,
otherwise an exception would be thrown.</p>


<div class="detailHeader" id="fullPattern-detail">
fullPattern<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$fullPattern</b>;</div>

<p>the regular expression used to validate email addresses with the name part.
This property is used only when [[allowName]] is true.</p>

<div class="SeeAlso">
<h4>See Also</h4>
<ul>
	<li><a href="/Mindy_Validation_EmailValidator#allowName">allowName</a></li>
</ul>
</div>

<div class="detailHeader" id="pattern-detail">
pattern<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$pattern</b>;</div>

<p>the regular expression used to validate the attribute value.</p>

<div class="SeeAlso">
<h4>See Also</h4>
<ul>
	<li><a href="http://www.regular-expressions.info/email.html">http://www.regular-expressions.info/email.html</a></li>
</ul>
</div>

<h2>Method Details</h2>

<div class="detailHeader" id="validate-detail">
validate()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public void <b>validate</b>($value)</div>
</td></tr>
<tr>
  <td class="paramNameCol">$value</td>
  <td class="paramTypeCol"></td>
  <td class="paramDescCol"></td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a href="http://code.google.com/p/yii/source/browse/tags/0.9/framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/validation/src/Mindy/Validation/EmailValidator.php#52" class='sourceLink'>framework/Volumes/mac/Users/max/projects/mindy/app/vendor/mindy/validation/src/Mindy/Validation/EmailValidator.php#52</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">validate</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;make&nbsp;sure&nbsp;string&nbsp;length&nbsp;is&nbsp;limited&nbsp;to&nbsp;avoid&nbsp;DOS&nbsp;attacks<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;||&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">320</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$valid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^(.*&lt;?)(.*)@(.*)(&gt;?)$/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$valid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$domain&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enableIDN</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'idn_to_ascii'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">InvalidConfigException</span><span style="color: #007700">(</span><span style="color: #DD0000">'In&nbsp;order&nbsp;to&nbsp;use&nbsp;IDN&nbsp;validation&nbsp;intl&nbsp;extension&nbsp;must&nbsp;be&nbsp;installed&nbsp;and&nbsp;enabled.'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #0000BB">idn_to_ascii</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">])&nbsp;.&nbsp;</span><span style="color: #DD0000">'@'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">idn_to_ascii</span><span style="color: #007700">(</span><span style="color: #0000BB">$domain</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$valid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;||&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">allowName&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fullPattern</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$valid&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">checkDNS</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$valid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">checkdnsrr</span><span style="color: #007700">(</span><span style="color: #0000BB">$domain</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'MX'</span><span style="color: #007700">)&nbsp;||&nbsp;</span><span style="color: #0000BB">checkdnsrr</span><span style="color: #007700">(</span><span style="color: #0000BB">$domain</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$valid</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addError</span><span style="color: #007700">(</span><span style="color: #0000BB">Translate</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'validation'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Is&nbsp;not&nbsp;a&nbsp;valid&nbsp;email&nbsp;address"</span><span style="color: #007700">,&nbsp;[]));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasErrors</span><span style="color: #007700">()&nbsp;===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p></p>


    </div>
    <!-- end of content -->

    <div id="apiFooter">
        Copyright &copy; 2008-2011 by <a href="http://mindy-cms.com">Mindy</a><br/>
        All Rights Reserved.<br/>
    </div>
    <!-- end of footer -->

    <script type="text/javascript">
        /*<![CDATA[*/
        $("a.toggle").toggle(function () {
            $(this).text($(this).text().replace(/Hide/, 'Show'));
            $(this).parents(".summary").find(".inherited").hide();
        }, function () {
            $(this).text($(this).text().replace(/Show/, 'Hide'));
            $(this).parents(".summary").find(".inherited").show();
        });
        $(".sourceCode a.show").toggle(function () {
            $(this).text($(this).text().replace(/show/, 'hide'));
            $(this).parents(".sourceCode").find("div.code").show();
        }, function () {
            $(this).text($(this).text().replace(/hide/, 'show'));
            $(this).parents(".sourceCode").find("div.code").hide();
        });
        $("a.sourceLink").click(function () {
            $(this).attr('target', '_blank');
        });
        /*]]>*/
    </script>

</div>
<!-- end of page -->
</body>
</html>